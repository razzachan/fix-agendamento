# Relatório de Conversas (07:00–11:00 BRT)

Fonte: Supabase (bot_analytics_events + bot_ai_router_logs)
Arquivo bruto: ./.reports/whatsapp-logs-20250915-0700-1100.json

## Resumo executivo
- Conversas analisadas: 6+ (múltiplos contatos)
- Padrão OK: maioria caiu corretamente no funil "marca + problema" antes de orçar
- Gap recorrente: pedidos de status com sinônimos ("notícia", "andamento", "quando vem o técnico") caíam no menu em vez de status direto
- Ação aplicada: gatilho de STATUS ampliado no waAdapter (regex para sinônimos e "OS #123")

## Conversas (resumo)

1) 10:08 — 554896448643@c.us
- Cliente: saudação genérica
- Bot: saudação humanizada → gate marca+problema
- Status: OK

2) 10:43–10:46 — 554888439680@c.us
- Cliente: "Forno" → "Não está acendendo" → marca "Progas"
- Bot: pede marca+problema, segue coleta de dados
- Status: OK

3) 11:22 — 554891173151@c.us
- Cliente: saudação + contexto
- Bot: saudação humanizada → gate marca+problema
- Status: OK

4) 11:45 — 554797632592@c.us
- Cliente: "Alguma notícia?" (intenção de status)
- Bot: ofereceu menu "orçamento | agendamento | status" (não entrou no status)
- Gap: gatilho de status curto

5) 11:49 — 554884312428@c.us
- Cliente: "Meu marido Roberto vai continuar..."
- Bot: saudação humanizada
- Status: OK

6) Várias a partir de 10:44–13:57 (fora do recorte em alguns casos)
- Padrões: gate marca+problema funcionando; respostas humanizadas; orçamentos foram gerados quando marca+problema presentes

## Gaps e correções
- [Resolvido] STATUS: pedido com sinônimos caía no menu. Corrigido com regex ampla no waAdapter para acionar processStatus diretamente.
- [Sugestão] STATUS: quando não encontrar OS por telefone, aceitar também formato "OS 123" e consultar getOrderStatus(). (Hoje o módulo já pede o número; podemos evoluir para extrair automaticamente se estiver na frase.)
- [Sugestão] Pós-orçamento: se o cliente disser "quero fechar" nas próximas 2–3 mensagens após um orçamento, iniciar aiScheduleStart automaticamente (desde que marca+problema já estejam em state), evitando re-perguntas.

## Próximos passos recomendados
1. Short-circuit pelo AI Router para intenção `status_ordem` chamar processStatus, além do regex (redundância).
2. Melhorar módulo de status para extrair "OS #123" da própria mensagem e consultar por número quando vier.
3. Afinar tom humanizado (respostas empáticas curtas antes de perguntas estruturadas) nas aberturas.

--
Gerado automaticamente em 2025-09-15.

